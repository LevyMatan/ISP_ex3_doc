<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EX3: EX3</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EX3
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">EX3 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md0"></a>
Ex-3: Job synchronization</h1>
<p><img src="https://github.com/LevyMatan/operating_systems/workflows/Ex3_CI/badge.svg?branch=release%2Fhw3" alt="Ex3_CI" style="pointer-events: none;" class="inline"/> <br  />
 The purpose of of this excersise is to learn about multi-threaded programming. <img src="Docs/UserProgram.jpeg" alt="" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md1"></a>
Implemntation Plan</h2>
<p>Full detailes of the excersise instruction are located in the provided _<code>Ex3_instructions.pdf</code>_ file provided by course staff. <br  />
 Two main modules described and specified in the instructions are:</p><ul>
<li><b>Queue:</b> Implement a FIFO queue, will have the following functions, <b>initialize_queue()</b>, <b>top()</b>, <b>pop()</b>, <b>push()</b>, <b>empty()</b>, <b>destroy_queue()</b>.</li>
<li><b>Lock:</b> Enable number of threads to access the same resource for reading, that is, without modifying it content, and enable only one to to read at a time. <br  />
 Should contain the folowing methods, <b>initialize_lock()</b>, <b>read_lock()</b>, <b>read_release()</b>, <b>write_lock()</b>, <b>write_release()</b>, <b>destroy_lock()</b>.</li>
</ul>
<p>Flow chart: <br  />
 <img src="Docs/InnerProcess.jpeg" alt="" class="inline"/></p>
<p>Additional modules created for modularity:</p><ul>
<li><b>prime:</b> Responsible for the cumputation for prime factors for a given target. <br  />
</li>
<li><b>file_utils:</b> Capsulate all the file interactions tailored for the project, single line read, createing the output line etc. <br  />
</li>
<li><b>trace:</b> Contains all macro for the debug prints. Enable different colors, indentation and On Off features. <br  />
</li>
<li><b>command_line_parsing:</b> Supplies all the utilities to read parse and check validity of the command line arguments. <br  />
</li>
</ul>
<h3><a class="anchor" id="autotoc_md2"></a>
Documentation</h3>
<p>There is code documentation which was generated by Doxygen. <br  />
 It can be found under the Docs folder in the repo. <br  />
 To <b>localy</b> open the documentation <a href="/Docs/html/index.html">click here</a>. <br  />
 For <b>online version</b>, (hoted by github pages), <a href="https://levymatan.github.io/ISP_ex3_doc/">click here</a></p>
<h2><a class="anchor" id="autotoc_md3"></a>
How to start?</h2>
<h3><a class="anchor" id="autotoc_md4"></a>
1. Porject Hierarchy</h3>
<p>First things first, the **<code><a class="el" href="factori_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="&lt; When we want to test a specific function/ scenario compile with that flag, when done,...">main()</a></code>** function is defined in _<code><a class="el" href="factori_8c.html" title="Main program file. The Ceasar program will decrypt an input file.">factori.c</a></code>_. <br  />
 All other modules will reveal their external function in their external header, which will be located under the include folder. Private header files will be located in same directory of module in parallel to the source file of same module. <br  />
</p>
<p>Here are basic file structure conventions:</p><ul>
<li><b>External Header</b>: files with a suffix of _<code>ext.h</code>_, are used to expose definition, fucntion and types. Should only include the most basic libs.</li>
<li><b>C</b>: files will implement all functions, both external and private functions. A C file only inlcudes a non external header files.</li>
<li><b>Header</b>: files to declare private functions, include standard libs, and the external header files.</li>
</ul>
<p>Template files of all three types are located under: <b>resources/template</b></p>
<h3><a class="anchor" id="autotoc_md5"></a>
2. Coding Priciples</h3>
<p>To achieve a working and clear code, we will try to follow the below guidelines:</p><ul>
<li><b>Single exit location for a function.</b> Makes the flow easier to understand when we exit the function at a single location. <br  />
 This allowes for easier cleaning up when failing. <br  />
 That said, sometimes it can make the code have unnecessary clutter, in this case, several exit locations are allowed.</li>
<li><b>Error handling.</b> Each function should return indication for success or failure to its caller. <br  />
 Easiest way to achieve is by a common error type which will be returned. (Avoid a <b>void</b> functions). <br  />
 All function should print out an indicative and understandable error message before returning. <br  />
 Please use the macro <code><a class="el" href="trace_8h.html#a9e1da3f98202e27d74c6309dec5e8dbf">print_error_msg()</a></code> for this purpose.</li>
<li><b>Debug logging.</b> print! print! print! Add logging by printing, any functions entered, input arguments, logic flows. <br  />
 By doing that each program run will provide alot of information. <br  />
 To enable easy on/off, use the macro <code><a class="el" href="trace_8h.html#a88edd2aa4feabff4af21a997d5d8aa23">DEBUG_PRINT()</a></code> which will propogate the parameters to <code>printf</code> function, <br  />
 whent the **<code>FACTORI_DEBUG_PRINT_ON</code>** is defined, and will do nothing otherwise.</li>
<li><b>Documentation.</b> Highly important! Keep all non-obvious logic and operation stated out in the comments. <br  />
 In the header file, a brief and <b>user imformative</b> information should be provided. <br  />
 What the function does (NOT how it does it), input/output parameters, and how to use it. <br  />
 A usage example is always a fine addition. <br  />
 Use the Doxygen syntax to allow better documentation and consistency. <br  />
 There are many extension to allow adding the Doxygen syntax with ease.</li>
<li><b>Coding conventions.</b> As described in the pdf file provided by course staff.</li>
</ul>
<h3><a class="anchor" id="autotoc_md6"></a>
3. Debug Levels</h3>
<p>To enable debug printing, with easier toggle on/off of specific verbosity levels. <br  />
 Each DEBUG_PRINT statment will be assosicated with a specific verbosity level. <br  />
 A global **<code>DEBUG_VERBOSITY_LEVEL</code>** will define how many prints of logs we wish to see. <br  />
 The higher it is define, the more prints should be shown. <br  />
 To fully utilize this mechanism, each print statement should think out the how needed are those prints. <br  />
 For example, <code><a class="el" href="trace_8h.html#ad4ed3d5d742c56a417076ab5e1a5dd29">DEBUG_PRINT_FUNCTION_START()</a></code> assigns level one, because it is useally usefull to have a function <br  />
 start and end prints - lets you know a specific function was called and executed. <br  />
 As a rule of thumb, if the print statment is located in a "deep" or long loops, it is wise to assign <br  />
 a larger debug level, so it will show up on when needed to avoid clutter. <br  />
 This mechanisim can be twicked by setting the below defines in the _<code><a class="el" href="common__types_8h.html" title="All common hardcoded data, types, and constants.">common_types.h</a></code>_ file. </p><div class="fragment"><div class="line"><span class="preprocessor">#define DEBUG_VERBOSITY_LEVEL                                           (3) </span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define DEBUG_LEVEL_LOWEST                                              (0)</span></div>
<div class="line"><span class="preprocessor">#define DEBUG_LEVEL_ONE                                                 (1)</span></div>
<div class="line"><span class="preprocessor">#define DEBUG_LEVEL_TWO                                                 (2)</span></div>
<div class="line"><span class="preprocessor">#define DEBUG_LEVEL_HIGHEST                                             (10)</span></div>
</div><!-- fragment --><p><b>caution:</b> **<code>FACTORI_DEBUG_PRINT_ON</code>** must be defined to use any of the printing debug utilities.</p>
<p>This is how to add a basic debug when writing a new function: <img src="Docs/BasicDebug.gif" alt="" class="inline"/> </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Dec 8 2020 20:48:13 for EX3 by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
